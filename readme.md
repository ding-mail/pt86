# 1、程序功能

## [1] 盘点

```
    条码 [                  ]   
    数量 [                  ]       默认为1
    总数：[                 ]       当前条码的累计数量


               [盘点记录]           点此调出盘点记录
```
---

### 盘点记录
    [1] 6955489652940,1
    [2] 6955489652941,2
    [3] 6955489652942,3
    ...

## [2] 导出数据
### 1.固定导出到：/datafs/virgin.export/virgin.export.txt
### 2. 导出格式：条码 , 数量 [CR LF]
```



        [确认导出]



```

## [3] 关于
           简单盘点程序 1.1

        深圳市信华翰科技有限公司
                @2019.5

    https://gitee.com/super__321/pt86.git
    https://github.com/ding-mail/pt86.git

### 源代码托管：
- https://gitee.com/super__321/pt86.git
- https://github.com/ding-mail/pt86.git

## [4] 退出

                 确认
    退出程序吗？

    [是(Y)] [否(N)]


# 2、安装方法
## 1. 将程序文件复制到PT86上
- 用U盘方式：接上U线，将所有文件复制到U盘的 /bin/ 中
- 用FTP方式：将所有文件复制到 /datafs/bin/ 中

## 2. 在PT86上依次选：系统菜单 - [3]系统设置 - [1]设定程序 - 插件 选为：virgin.main.js - 设定 - 按 ESC 到 系统菜单 - [1]运行程序

# 3、调试方法
## 1. 开启 FTP 和 TELNET

# 4、更新计划
## 1. 仓库 
2019-6-25实现

## 2. 可设置
## 3. 序列号
## 4. 电脑端，可存为 txt 或 xls
## 5. 可用wifi与电脑通讯
## 6. 可导入产品资料


# 4、ISSUES
## 1、ISS620
- 现象：在电脑telnet时正常运行，在PT86上选 运行程序 会发生跳出现象，但通常是访问数据库的模块才会跳出；也有时不是闪退，而是出现 正在加载插件 的窗口，然后就退出了。
- 分析：通常发生这种现象是在进入访问数据库的模块时，所以应该是与访问数据有关的。经过反复调试，发现可能是PT86的内存有限，如果联接多个表访问，或者多次建立数据库对象，可能就会耗尽内存，而引起这个问题。
- 解决方案：减少多表联接访问；将数据库对象做成一个单例类。总之尽量减少消耗内存。
- 其他可能：有可能是require()了模块进来，但模块文件不存在；也有可能是文件存档格式问题，必须存为UTF-8才可以，我试过无意中存成了UTF-8 with BOM，结果就一直闪退。
- 处理结果：ISS620分支已经解决了这个问题；master分支存在这个问题。